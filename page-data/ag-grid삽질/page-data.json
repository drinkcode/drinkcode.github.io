{
    "componentChunkName": "component---src-templates-markdown-template-tsx",
    "path": "/ag-grid삽질",
    "result": {"data":{"allMarkdownRemark":{"edges":[{"node":{"frontmatter":{"title":"ag-grid삽질","tags":["삽질"],"created":"2019-09-17T17:30:36.352Z","modified":"2019-12-12T05:03:30.511Z"},"html":"<p><img src=\"./images/aggrid.jpeg\" alt=\"aggrid\"></p>\n<h1 id=\"ag-grid삽질\" style=\"position:relative;\"><a href=\"#ag-grid%EC%82%BD%EC%A7%88\" aria-label=\"ag grid삽질 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ag-grid삽질</h1>\n<p>onCellValueChanged 할 때는 값을 바로바로 수정할 수 있지만</p>\n<p>cellRenderer같은 곳에선 rowNode.setData로 해야할 줄 알았는데 메모리 누수가 생긴다.</p>\n<p>겨우겨우 알아낸게 props에서 바로 data로 접근할 수 있었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">f_addCard</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  rowNode<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>imageData <span class=\"token operator\">=</span> image\n\n  <span class=\"token function\">setIsImageModal</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>isImageModal<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>여기서 rowNode는 props이다</p>\n<p>다시 한 번 알아낸것, 문제는 Modal이었다.<br>\n모달이 켜질 때 DataTableContainer는 unmount 되기 때문에 자꾸 메모리 누수 문제가 생겼던 것이었다.<br>\n이걸 해결하기 위해선 모달을 꺼줌과 동시에 값을 할당해주면 된다</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">f_addCard</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>rowNode<span class=\"token punctuation\">)</span>\n\n  <span class=\"token function\">setIsImageModal</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>isImageModal<span class=\"token punctuation\">)</span>\n  rowNode<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span><span class=\"token function\">setDataValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"imageData\"</span><span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","tableOfContents":"<ul>\n<li><a href=\"#ag-grid%EC%82%BD%EC%A7%88\">ag-grid삽질</a></li>\n</ul>"}}]},"allFile":{"nodes":[{"base":"random3.jpeg","absolutePath":"/Users/tdlab/Dropbox/athi_ts/static/randomImg/random3.jpeg"},{"base":"random2.jpeg","absolutePath":"/Users/tdlab/Dropbox/athi_ts/static/randomImg/random2.jpeg"},{"base":"random4.jpeg","absolutePath":"/Users/tdlab/Dropbox/athi_ts/static/randomImg/random4.jpeg"},{"base":"random1.jpeg","absolutePath":"/Users/tdlab/Dropbox/athi_ts/static/randomImg/random1.jpeg"}]}},"pageContext":{"title":"ag-grid삽질"}},
    "staticQueryHashes": []}